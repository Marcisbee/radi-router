!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd||r(t["radi-router"]={})}(this,function(t){"use strict";var r;const e=":".charCodeAt(0);var n,o,i,a;function s(t){for(var r=t.split("/"),n=[],o=[],i=0;i<r.length;i++)e===r[i].charCodeAt(0)?(n.push("([^/]+?)"),o.push(r[i].substr(1))):""!==r[i]&&n.push(r[i]);return[new RegExp("^/"+n.join("/")+"(?:/(?=$))?$","i"),o]}class h{constructor(t,r,e,n){var o=t.match(r[0]);this.path=t,this.key=n,this.params={};for(var i=0;i<r[1].length;i++)this.params[r[1][i]]=o[i+1];this.cmp=e[n]}}t.default=function(t,e){return r=t,function(t){function c(r){if(i===r)return a;n||(n=Object.keys(t.routes)),o||(o=function(t){for(var r=t.length,e=new Array(r),n=r-1;n>=0;n--)e[n]=s(t[n]);return e}(n));for(var e=!1,c=0;c<o.length;c++)if(o[c][0].test(r)){a=new h(r,o[c],t.routes,n[c]),e=!0;break}return i=r,e?a:{key:"$error"}}window.r_routes=t.routes,window.r_before=t.beforeEach||!0,window.r_after=t.afterEach||null;var u="";for(var f in t.routes)u=u.concat(`cond(\n        l(this.active === '${f}' && (r_before === true || r_before('${f}',2))),\n        function () { var ret = r('div', new r_routes['${f}']()); if(r_after)r_after(); return ret; }\n      ).`);""!==u&&(u=u.concat("else(r('div', 'Error 404'))"));var l=`return r('div', ${u})`,d=e("$router",{active:"",last:"",location:""});return r.component({name:"radi-router",view:new Function(l),state:{location:window.location.hash.substr(1)||"/",last:null,active:null},actions:{onMount(){this.updateMixin(),window.onhashchange=this.hashChange,this.hashChange()},hashChange(){this.last=this.location,this.location=window.location.hash.substr(1)||"/";var t=c(this.location);t&&(this.active=t.key),this.updateMixin()},updateMixin(){d.active=this.active,d.last=this.last,d.location=this.location}}})}},t.version="0.1.6"});
//# sourceMappingURL=radi-router.js.map