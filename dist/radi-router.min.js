!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd||r(t["radi-router"]={})}(this,function(t){"use strict";var r;const e=":".charCodeAt(0);var n,o,a,i;function s(t){for(var r=t.split("/"),n=[],o=[],a=0;a<r.length;a++)e===r[a].charCodeAt(0)?(n.push("([^/]+?)"),o.push(r[a].substr(1))):""!==r[a]&&n.push(r[a]);return[new RegExp("^/"+n.join("/")+"(?:/(?=$))?$","i"),o]}class h{constructor(t,r,e,n){var o=t.match(r[0]);this.path=t,this.key=n,this.params={};for(var a=0;a<r[1].length;a++)this.params[r[1][a]]=o[a+1];this.cmp=e[n]}}t.default=function(t){return r=t,function(t){function e(r){if(a===r)return i;n||(n=Object.keys(t.routes)),o||(o=function(t){for(var r=t.length,e=new Array(r),n=r-1;n>=0;n--)e[n]=s(t[n]);return e}(n));for(var e=!1,u=0;u<o.length;u++)if(o[u][0].test(r)){i=new h(r,o[u],t.routes,n[u]),e=!0;break}return e||(i={key:"/$error"}),a=r,i}window.r_routes=t.routes,window.r_before=t.beforeEach||!0,window.r_after=t.afterEach||null;var u="";for(var c in t.routes)u=u.concat(`cond(\n        l(this.active === '${c}' && (r_before === true || r_before('${c}',2))),\n        function () { var ret = r('div', new r_routes['${c}']()); if(r_after)r_after(); return ret; }\n      ).`);""!==u&&(u=u.concat("else(r('div', 'Error 404'))"));var f=`return r('div', ${u})`;return r.component({name:"radi-router",view:new Function(f),state:{location:window.location.hash.substr(1)||"/",last:null,active:null},actions:{onMount(){window.onhashchange=this.hashChange,this.hashChange()},hashChange(){this.last=this.location,this.location=window.location.hash.substr(1)||"/";var t=e(this.location);t&&(this.active=t.key)}}})}},t.version="0.1.2"});
//# sourceMappingURL=radi-router.js.map