let version='0.3.2';var index=({r:e,l:r,mount:t,headless:n,Component:o},s)=>{let u={},c=58,a=47;var i,h,l,f;let p=e=>{var r=e.split('/'),t=[],n=[];for(var o=0;o<r.length;o++)c===r[o].charCodeAt(0)?(t.push('([^/]+?)'),n.push(r[o].substr(1))):r[o]!==''&&t.push(r[o]);return[new RegExp('^/'+t.join('/')+'(?:[/])?(?:[?&].*)?$','i'),n]},d=e=>{var r=e.length,t=new Array(r);for(var n=r-1;n>=0;n--)t[n]=p(e[n]);return t},g=e=>{return u.config.errors[e]()},b=e=>{window.location.hash=e;return!0},m=(e,r,t,n,o,s,c)=>{return e(t,n,e=>{if(typeof e==='undefined'||e===!0){if(typeof c==='function'){return m(c,r,t,n,o,s,null)}else o({default:r})}else if(typeof e==='string'&&e.charCodeAt(0)===a){b(e);return s()}else o({default:g(403)});u.after&&u.after(t,n)})},w=e=>{let r=e;for(let n in e){if(e.hasOwnProperty(n)&&e[n].children){let o=w(e[n].children);for(var t in o)o.hasOwnProperty(t)&&(r[n+t]=o[t])}}return r},C=e=>{if(l===e)return f;i||(i=Object.keys(u.routes));h||(h=d(i));var r=!1;for(var t=0;t<h.length;t++){if(h[t][0].test(e)){f=new y(e,h[t],u.routes,i[t]);r=!0;break}}l=e;return!r?{key:null}:f};class y{constructor(e,r,t,n){let o=e.split(/[\?\&]/).slice(1).map(e=>e.split('=')).reduce((e,r)=>Object.assign(e,{[r[0]]:r[1]}),{});var s=e.match(r[0]);this.path=e;this.key=n;this.query=o;this.cmp=t[n];this.params=this.cmp.data||{};for(var u=0;u<r[1].length;u++)this.params[r[1][u]]=s[u+1]}}class v extends o{state(){return{location:window.location.hash.substr(1)||'/',params:{},query:{},last:null,active:null}}on(){return{mount(){window.onhashchange=()=>this.setState(this.hashChange());this.setState(this.hashChange())}}}hashChange(){var e=window.location.hash.substr(1)||'/',r=C(e);window.scrollTo(0,0);return{last:this.state.active,location:e,params:r.params||{},query:r.query||{},active:r.key||''}}}class A extends o{state(){return{to:'/',active:'active',core:!1,class:'',id:null,title:null}}view(){return e('a',{href:r(this,'to').process(e=>'#'.concat(e)),class:r(this,'to').process(e=>r(this.$router,'active').process(t=>r(this,'class').process(r=>([(t===e||this.state.core&&new RegExp('^'+e).test(t))&&this.state.active,r])))),id:r(this,'id'),title:r(this,'title')},...this.children)}}class j extends o{inject({active:r,last:t}){let n=u.routes[r],o=typeof n==='object'?n.component:n;if((typeof o==='undefined'||typeof o==='number'||!o)&&typeof n==='undefined')return g(o||404);if(typeof n.redirect==='string')return b(n.redirect);if(typeof u.before==='function'||typeof n.before==='function'){return()=>new Promise((e,s)=>{typeof u.before==='function'?m(u.before,o,r,t,e,s,n.before):typeof n.before==='function'&&m(n.before,o,r,t,e,s,null)})}if(typeof o==='function'){if(o.isComponent&&o.isComponent())return e(o);return o}return o}view(){return e('template',{},r(this.$router,'active').process(()=>this.inject(this.$router.state)),this.children)}}let E=s.beforeEach,$=s.afterEach;u={config:{errors:{404:()=>e('div',{},'Error 404: Not Found'),403:()=>e('div',{},'Error 403: Forbidden')}},before:E,after:$,routes:w(s.routes),write:b,Link:A,Router:j};n('router',v);return u};export default index;export { version }