let version='0.3.24';var index=({r:e,l:t,mount:r,headless:n,Component:u},o)=>{let s={},c=58;47;var a,i,l,h;let f=e=>{var t=e.split('/'),r=[],n=[];for(var u=0;u<t.length;u++)c===t[u].charCodeAt(0)?(r.push('([^/]+?)'),n.push(t[u].substr(1))):t[u]!==''&&r.push(t[u]);return[new RegExp('^/'+r.join('/')+'(?:[/])?(?:[?&].*)?$','i'),n]},p=e=>{var t=e.length,r=new Array(t);for(var n=t-1;n>=0;n--)r[n]=f(e[n]);return r},d=e=>{return s.config.errors[e]()},g=e=>{window.location.hash=e;return!0},m=e=>{let t=e;for(let n in e){if(e.hasOwnProperty(n)&&e[n].children){let u=m(e[n].children);for(var r in u)u.hasOwnProperty(r)&&(t[n+r]=u[r])}}return t},w=e=>{if(l===e)return h;a||(a=Object.keys(s.routes));i||(i=p(a));var t=!1;for(var r=0;r<i.length;r++){if(i[r][0].test(e)){h=new b(e,i[r],s.routes,a[r]);t=!0;break}}l=e;return!t?{key:null}:h};class b{constructor(e,t,r,n){let u=e.split(/[\?\&]/).slice(1).map(e=>e.split('=')).reduce((e,t)=>Object.assign(e,{[t[0]]:t[1]}),{});var o=e.match(t[0]);this.path=e;this.key=n;this.query=u;this.cmp=r[n];this.params=this.cmp.data||{};for(var s=0;s<t[1].length;s++)this.params[t[1][s]]=o[s+1]}}class C extends u{state(){return{location:window.location.hash.substr(1)||'/',params:{},query:{},last:null,active:null,activeComponent:null,current:{tags:[],meta:{}}}}on(){return{mount(){window.onhashchange=()=>(this.setState(this.hashChange()), this.chain());this.setState(this.hashChange());this.chain()}}}chain(){this.trigger('changed',this.state.active||'',this.state.last)}hashChange(){var e=window.location.hash.substr(1)||'/',t=w(e);window.scrollTo(0,0);return{last:this.state.active,location:e,params:t.params||{},query:t.query||{},active:t.key||'',current:{tags:t.cmp.tags||[],meta:t.cmp.meta||{}}}}hasTag(...e){return e.reduce((e,t)=>e||this.state.current.tags.indexOf(t)>=0,!1)}getMeta(){return this.state.current.meta||{}}}class v extends u{state(){return{to:'/',active:'active',core:!1,class:'',id:null,title:null}}view(){return e('a',{href:t(this,'to').process(e=>'#'.concat(e)),class:t(this,'to').process(e=>t(this.$router,'active').process(r=>t(this,'class').process(t=>([(r===e||this.state.core&&new RegExp('^'+e).test(r))&&this.state.active,t])))),id:t(this,'id'),title:t(this,'title')},...this.children)}}class y extends u{state(){return{active:null}}on(){return{mount(){this.setState({active:this.$router.state.active});this.$router.when('changed',(e,t)=>{this.setState({active:e})})}}}view(){return[t(this,'active').process(e=>this.extractComponent(e)),this.children]}extractComponent(t,r){if(t===null&&typeof r==='undefined')return;let n=s.routes[t],u=typeof n==='object'?n.component:n;if((typeof u==='undefined'||typeof u==='number'||!u)&&typeof n==='undefined')return d(u||404);if(typeof n.redirect==='string')return g(n.redirect);let o=[s.before||null,n.before||null].filter(e=>typeof e==='function');if(o.length>0){let e=(n,s)=>{let c=o.pop();if(typeof c!=='function'){return n(u)}return c.call(this,t,r,t=>{if(typeof t==='undefined'||t===!0){if(o.length>0){return e(n,s)}else{return n(u)}}return n(d(403))})};return()=>new Promise(e)}if(typeof u==='function'){if(u.isComponent&&u.isComponent())return e(u);return u}return u}}let E=o.beforeEach,A=o.afterEach;s={config:{errors:{404:()=>e('div',{},'Error 404: Not Found'),403:()=>e('div',{},'Error 403: Forbidden')}},before:E,after:A,routes:m(o.routes),write:g,Link:v,Router:y};n('router',C);return s};export default index;export { version }